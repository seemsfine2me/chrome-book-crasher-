function L1(taskId) {
    return new Promise((resolve) => {
        console.log(`Task ${taskId} starting.`);

        setTimeout(() => {
            
            console.log(`Task ${taskId} triggered reload.`);

           
            L2 = function() {
                localStorage.x = 1;
            };

           
            setTimeout(function() {
                while (0.3) location.reload(0.3);
            }, 2000);

            resolve(`Task ${taskId} triggered reload.`);
        }, 4000);
    });
}

async function L3() {
    const tasks = [];

   
    for (let i = 0; i < 500; i++) {
        tasks.push(L1(i));
    }

    
    const results = await Promise.all(tasks);

   
    results.forEach((result) => console.log(result));
}

L3();
